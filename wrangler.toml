name = "bus-auth"
main = "src/index.ts"
compatibility_date = "2025-12-01"
workers_dev = false

[vars]
# Move actual values to Cloudflare Dashboard Variables
ADMIN_IP_ALLOWLIST = "0.0.0.0"
ENVIRONMENT = "production"
ELIGIBLE_PRICE_IDS = "price_your_id_here"
CHECKOUT_SUCCESS_URL = "https://buscore.ca/success"
CHECKOUT_CANCEL_URL = "https://buscore.ca/cancel"
EMAIL_FROM = "BUS Core Auth <auth@buscore.ca>"
STRIPE_PRICE_DEFAULT = "price_your_id_here"

# Public keys should be managed as Environment Variables in the dashboard
IDENTITY_PUBLIC_KEY = ""
ENTITLEMENT_PUBLIC_KEY = ""

[observability.logs]
enabled = true

[[d1_databases]]
binding = "DB"
database_name = "bus-auth-db"
database_id = "your-database-id-here"

[[kv_namespaces]]
binding = "RATE_LIMITS"
id = "your-kv-id-here"
preview_id = "your-kv-preview-id-here"
